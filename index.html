<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Monero Examples by moneroexamples</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Monero Examples</h1>
      <h2 class="project-tagline">python-json-rpc</h2>
      <a href="https://github.com/moneroexamples/python-json-rpc" class="btn">View on GitHub</a>
      <a href="https://github.com/moneroexamples/python-json-rpc/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/moneroexamples/python-json-rpc/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="examples-of-using-json-rpc-in-python-for-monero" class="anchor" href="#examples-of-using-json-rpc-in-python-for-monero" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples of using json-rpc in Python for Monero.</h1>

<p>Most important functions of Monero's simplewallet and
bitmonreod can be executed by means of JavaScript Object Notation Remote Procedure Calls (<a href="https://en.wikipedia.org/wiki/JSON-RPC">json-rpc</a>).</p>

<p>Using these procedures, other applications can be developed
on top of the simplewallet. For example, a GUI,
or an web applications allowing for accessing wallet balance
online.</p>

<p>Despite this, there seem to be no tutorials and/or examples of how 
to use json-rpc to interface both bitmonerod and simplewallet. For this
reason, the following examples in Python were created.</p>

<h2>
<a id="simplewallet" class="anchor" href="#simplewallet" aria-hidden="true"><span class="octicon octicon-link"></span></a>simplewallet</h2>

<p>The examples demonstrate how to call the most popular procedures
that simplewallet which are exposed for other applications to use such as:</p>

<ul>
<li>getbalance</li>
<li>query_key</li>
<li>get_payments</li>
<li>getaddress</li>
<li>incoming_transfers</li>
<li>transfer</li>
</ul>

<p>The basic documentaion of the procedures can be found
<a href="https://getmonero.org/knowledge-base/developer-guides/wallet-rpc">here</a>.</p>

<p><strong>Prerequsits</strong></p>

<p>Before executing this code make sure that simplewallet is
running and listening for the incoming rpc calls. For example, you can run the simplewallet in rpc mode as follows:</p>

<pre><code>/opt/bitmonero/simplewallet --wallet-file ~/wallet.bin --password &lt;wallet_password&gt; --rpc-bind-port 18082
</code></pre>

<p>The code was written, tested and executed on Ubuntu 15.10 with
Python 3.4.3 and requires the <a href="https://pypi.python.org/pypi/requests">Requests package</a>.</p>

<p><strong>Basic example showing how to get current balance</strong></p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> requests
<span class="pl-k">import</span> json

<span class="pl-k">def</span> <span class="pl-en">main</span>():

    <span class="pl-c"># simple wallet is running on the localhost and port of 18082</span>
    url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>http://localhost:18082/json_rpc<span class="pl-pds">"</span></span>

    <span class="pl-c"># standard json header</span>
    headers <span class="pl-k">=</span> {<span class="pl-s"><span class="pl-pds">'</span>content-type<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>application/json<span class="pl-pds">'</span></span>}

    <span class="pl-c"># simplewallet' procedure/method to call</span>
    rpc_input <span class="pl-k">=</span> {
           <span class="pl-s"><span class="pl-pds">"</span>method<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>getbalance<span class="pl-pds">"</span></span>
    }

    <span class="pl-c"># add standard rpc values</span>
    rpc_input.update({<span class="pl-s"><span class="pl-pds">"</span>jsonrpc<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2.0<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span>})

    <span class="pl-c"># execute the rpc requrest</span>
    response <span class="pl-k">=</span> requests.post(
        url,
        <span class="pl-smi">data</span><span class="pl-k">=</span>json.dumps(rpc_input),
        <span class="pl-smi">headers</span><span class="pl-k">=</span>headers)

    <span class="pl-k">print</span>(response.json())

<span class="pl-k">if</span> <span class="pl-c1">__name__</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>__main__<span class="pl-pds">"</span></span>:
    main()</pre></div>

<p>Generated output:</p>

<div class="highlight highlight-source-python"><pre>{<span class="pl-s"><span class="pl-pds">'</span>result<span class="pl-pds">'</span></span>: {<span class="pl-s"><span class="pl-pds">'</span>balance<span class="pl-pds">'</span></span>: <span class="pl-c1">4760000000000</span>, <span class="pl-s"><span class="pl-pds">'</span>unlocked_balance<span class="pl-pds">'</span></span>: <span class="pl-c1">4760000000000</span>}, <span class="pl-s"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>0<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>jsonrpc<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>2.0<span class="pl-pds">'</span></span>}</pre></div>

<p>More examples are <a href="https://github.com/moneroexamples/python-json-rpc/blob/master/src/simplewallet_rpc_examples.py">here</a></p>

<h2>
<a id="bitmonreod" class="anchor" href="#bitmonreod" aria-hidden="true"><span class="octicon octicon-link"></span></a>bitmonreod</h2>

<p>Coming as soon...</p>

<h1>
<a id="what-is-monero" class="anchor" href="#what-is-monero" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is Monero</h1>

<blockquote>
<p>Monero is a secure, private, untraceable currency. It is open-source and freely available to all.</p>
</blockquote>

<p>For more information and questions about Monero, 
one can go to <a href="https://getmonero.org">getmonero.org</a> and 
<a href="https://www.reddit.com/r/Monero">r/Monero</a>, respectively. </p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/moneroexamples/python-json-rpc">Monero Examples</a> is maintained by <a href="https://github.com/moneroexamples">moneroexamples</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
